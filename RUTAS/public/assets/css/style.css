/* ===== Variables y base ===== */
:root{
  --nv-bg:#0d0f14;
  --nv-fg:#e7eaf0;
  --nv-muted:#98a2b3;
  --nv-accent:#f2a900;
  --nv-border:#1a1f29;
}
html, body{ height:100%; margin:0; overflow:hidden; }
body{ font-family:system-ui, Arial, sans-serif; }

/* ===== Navbar ===== */
.nvbar{
  position:sticky; top:0; z-index:10000;
  background:var(--nv-bg); color:var(--nv-fg);
  border-bottom:1px solid var(--nv-border);
  backdrop-filter:saturate(120%) blur(6px);
}
.nvbar__inner{
  max-width:1200px; margin:0 auto; padding:.75rem 1rem;
  display:flex; align-items:center; gap:1rem; justify-content:space-between;
}
.nvbar__brand{ display:flex; align-items:center; gap:.5rem; text-decoration:none; color:var(--nv-fg); }
.nvbar__logo{
  display:grid; place-items:center; width:34px; height:34px; border-radius:8px;
  background:linear-gradient(135deg,#222a36,#0f141c);
  color:var(--nv-accent); font-weight:700; letter-spacing:.5px;
  border:1px solid var(--nv-border);
}
.nvbar__brand-text{ font-weight:600; letter-spacing:.3px; }
.nvbar__toggle{
  display:none; border:1px solid var(--nv-border); background:#131822; color:var(--nv-fg);
  padding:.45rem .6rem; border-radius:.5rem; cursor:pointer; font-size:1.5rem;
}
.nvbar__nav{ display:flex; align-items:center; gap:.5rem; }
.nvbar__link{
  color:#fff; background:#141a24; border:1px solid var(--nv-border);
  text-decoration:none; padding:.55rem .75rem; border-radius:.5rem;
}
.nvbar__cta{
  margin-left:.25rem; text-decoration:none; color:#101418; background:var(--nv-accent);
  padding:.55rem .85rem; border-radius:.6rem; font-weight:700;
}
@media (max-width:860px){
  .nvbar__toggle{ display:inline-block; }
  .nvbar__nav{
    position:absolute; left:0; right:0; top:56px;
    background:var(--nv-bg); border-bottom:1px solid var(--nv-border);
    display:none; flex-direction:column; align-items:stretch; padding:.5rem;
    z-index:12000;
  }
  .nvbar__nav.is-open{ display:flex; height:100vh; }
}

/* ===== Layout (mapa full + sidebar overlay) ===== */
#app{
  position:fixed; top:var(--nav-h,60px); left:0; right:0; bottom:0;
}

/* Mapa full */
#mapWrap{ position:absolute; inset:0; }
#map{ position:absolute; inset:0; width:100%; height:100%; }

/* Sidebar overlay: UNA SOLA CLASE de ocultación (is-hidden) */
#sidebar{
  position:absolute; z-index:600;
  top:0; bottom:0; left:0;
  width:340px; max-width:70vw;
  background:#fff; border-right:1px solid #e8e8e8;
  padding:12px 12px 20px; box-sizing:border-box;
  display:flex; flex-direction:column; gap:16px;
  overflow-y:auto; overflow-x:hidden;
  box-shadow:0 10px 30px rgba(0,0,0,.18);
  transform:translateX(0);
  transition:transform .25s ease;
}
#sidebar.is-hidden{ transform:translateX(-105%); }

/* Botón de borde */
.edge-toggle{
  position:absolute; left:12px; bottom:12px; z-index:610;
  padding:12px 14px; border:0; border-radius:12px;
  background:#fff; box-shadow:0 6px 20px rgba(0,0,0,.18);
  font-weight:600; cursor:pointer; display:none;
}

/* Contenido sidebar */
.sb__header{ display:flex; align-items:center; gap:8px; }
.sb__header h2{ font-size:18px; margin:0; }
.icon-btn{ border:0; background:#f3f3f3; border-radius:8px; padding:6px 10px; cursor:pointer; }

.sb__section{ display:grid; gap:8px; }
.sb__section h3{ font-size:14px; margin:8px 0; color:#444; }

.chips{ display:flex; flex-wrap:wrap; gap:8px; }
.chip{
  display:inline-flex; align-items:center; gap:8px;
  padding:8px 10px; border:1px solid #ddd; border-radius:999px;
  background:#fff; cursor:pointer; font-size:13px; user-select:none;
}
.chip svg{ width:18px; height:18px; }
.chip.is-active{ border-color:#0b66ff; box-shadow:0 0 0 2px rgba(11,102,255,.15); }

.list{ list-style:none; padding:0; margin:0; display:grid; gap:10px; }
.list li a{ text-decoration:none; color:#111; display:grid; gap:4px; }
.badge{ display:inline-block; font-size:11px; padding:2px 6px; border-radius:6px; background:#f3f6ff; color:#0b66ff; }

.card{ border:1px solid #eee; border-radius:10px; padding:10px; background:#fff; display:grid; gap:6px; }
.card.muted{ color:#666; }

.sb__footer{ margin-top:auto; }
.sb-hide-btn{
  width:100%; padding:12px 14px; border:1px solid #ddd; border-radius:12px;
  background:#f8f9fb; font-weight:600; cursor:pointer;
}

/* Mobile */
@media (max-width:900px){
  #sidebar{ width:70vw; }
  .edge-toggle{ display:block; } /* el JS la oculta cuando el panel está visible */
}
