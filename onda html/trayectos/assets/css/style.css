/* ===== Variables y base ===== */
:root{
  /* Colores EXACTOS de la hoja de estilos provista */
  --nv-bg:#0033668f;   /* header/nav semitransparente */
  --nv-fg:#ffffff;     /* texto blanco */
  --nv-muted:#98a2b3;
  --nv-accent:#ff0000; /* rojo (buttons) */
  --nv-accent-hover:#8b0000; /* darkred */
  --nv-border:transparent;
}
html, body{ height:100%; margin:0; overflow:hidden; }
body{ font-family:system-ui, Arial, sans-serif; }

/* ===== Navbar (idéntica estética y colores) ===== */
.nvbar{
  position:sticky; top:0; z-index:10000;
  background:var(--nv-bg); color:var(--nv-fg);
  border-bottom:none;
  backdrop-filter:none;
}
.nvbar__inner{
  max-width:1200px; margin:0 auto; padding:.75rem 1rem;
  display:flex; align-items:center; gap:1rem; justify-content:space-between;
}
.nvbar__brand{
  display:flex; align-items:center; gap:.5rem; text-decoration:none; color:var(--nv-fg);
}
.nvbar__logo{
  display:grid; place-items:center; width:50px; height:50px; /* como el header original */
  background:transparent; color:var(--nv-fg);
  border:none; border-radius:0; box-shadow:none; letter-spacing:0; font-weight:400;
}
.nvbar__brand-text{
  font-weight:400; letter-spacing:0; color:var(--nv-fg);
}

.nvbar__toggle{
  display:none; border:none; background:var(--nv-bg); color:var(--nv-fg);
  padding:.45rem .6rem; border-radius:.5rem; cursor:pointer; font-size:1.5rem;
}

/* Links como el nav original: texto blanco, hover con #0e649e y borde redondeado */
.nvbar__nav{ display:flex; align-items:center; gap:.5rem; }
.nvbar__link{
  color:#fff; background:transparent; border:none;
  text-decoration:none; padding:8px 12px; border-radius:5px; font-size:18px;
  transition:0.3s;
}
.nvbar__link:hover{
  background:#0e649e; color:#fff;
}

/* Botón de acción igual que los botones rojos del hero */
.nvbar__cta{
  margin-left:.25rem; text-decoration:none; color:#fff; background:var(--nv-accent);
  padding:12px 25px; border-radius:5px; font-weight:700; border:none; font-size:18px;
  transition:0.3s;
}
.nvbar__cta:hover{ background:var(--nv-accent-hover); }

/* ===== Responsive ===== */
@media (max-width:860px){
  .nvbar__toggle{ display:inline-block; }
  .nvbar__nav{
    position:absolute; left:0; right:0; top:56px;
    background:var(--nv-bg); border-bottom:1px solid var(--nv-border);
    display:none; flex-direction:column; align-items:stretch; padding:.5rem;
    z-index:12000;
  }
  .nvbar__nav.is-open{ display:flex; height:100vh; }
}

/* ===== Layout (mapa full + sidebar overlay) ===== */
#app{
  position:fixed; top:var(--nav-h,60px); left:0; right:0; bottom:0;
}

/* Mapa full */
#mapWrap{ position:absolute; inset:0; }
#map{ position:absolute; inset:0; width:100%; height:100%; }

/* Sidebar overlay: UNA SOLA CLASE de ocultación (is-hidden) */
#sidebar{
  position:absolute; z-index:600;
  top:0; bottom:0; left:0;
  width:450px; max-width:70vw;
  background:#fff; border-right:1px solid #e8e8e8;
  padding:12px 12px 20px; box-sizing:border-box;
  display:flex; flex-direction:column; gap:16px;
  overflow-y:auto; overflow-x:hidden;
  box-shadow:0 10px 30px rgba(0,0,0,.18);
  transform:translateX(0);
  transition:transform .25s ease;
}
#sidebar.is-hidden{ transform:translateX(-105%); }

/* Botón de borde */
.edge-toggle{
  position:absolute; left:12px; bottom:12px; z-index:610;
  padding:12px 14px; border:0; border-radius:12px;
  background:#fff; box-shadow:0 6px 20px rgba(0,0,0,.18);
  font-weight:600; cursor:pointer; display:none;
}

/* Contenido sidebar */
.sb__header{ display:flex; align-items:center; gap:8px; }
.sb__header h2{ font-size:18px; margin:0; }
.icon-btn{ border:0; background:#f3f3f3; border-radius:8px; padding:6px 10px; cursor:pointer; }

.sb__section{ display:grid; gap:8px; }
.sb__section h3{ font-size:14px; margin:8px 0; color:#444; }

.chips{ display:flex; flex-wrap:wrap; gap:8px; }
.chip{
  display:inline-flex; align-items:center; gap:8px;
  padding:8px 10px; border:1px solid #ddd; border-radius:999px;
  background:#fff; cursor:pointer; font-size:13px; user-select:none;
}
.chip svg{ width:18px; height:18px; }
.chip.is-active{ border-color:#0b66ff; box-shadow:0 0 0 2px rgba(11,102,255,.15); }

.list{ list-style:none; padding:0; margin:0; display:grid; gap:10px; }
.list li a{ text-decoration:none; color:#111; display:grid; gap:4px; }
.badge{ display:inline-block; font-size:11px; padding:2px 6px; border-radius:6px; background:#f3f6ff; color:#0b66ff; }

.card{ border:1px solid #eee; border-radius:10px; padding:10px; background:#fff; display:grid; gap:6px; }
.card.muted{ color:#666; }

.sb__footer{ margin-top:auto; }
.sb-hide-btn{
  width:100%; padding:12px 14px; border:1px solid #ddd; border-radius:12px;
  background:#f8f9fb; font-weight:600; cursor:pointer;
}

/* Evita desbordes en el aside */
#sidebar { overflow: auto; }

/* Hero a 100% del ancho del sidebar */
.card-hero { width: 100%; max-width: 100%; overflow: hidden; border-radius: 10px; }
.card-hero img { display: block; width: 100%; height: auto; }

/* Tipografía/espaciados */
.card-body { margin-top: .5rem; }
.card-summary { margin: .25rem 0 .5rem; line-height: 1.4; }
.card-lead { margin: 0 0 .75rem; line-height: 1.5; }

/* Botón primario */
.btn.btn-primary {
  display: inline-block; padding: .5rem .75rem; border-radius: 8px;
  background: #0b66ff; color: #fff; text-decoration: none; font-weight: 600;
}
.btn.btn-primary:hover { filter: brightness(1.05); }

/* Tamaños base (ajusta a tu diseño) */
#app { --sb-w: 360px; }

.edge-toggle{
  display:block;
  position: fixed;              /* sobre el mapa */
  left: 10px;
  top: calc(var(--nav-h, 60px) + 12px);
  z-index: 1100;                /* por encima del Leaflet map */
  padding: 8px 12px;
  border-radius: 999px;
  background: #fff;
  border: 1px solid rgba(0,0,0,.08);
  box-shadow: 0 4px 12px rgba(0,0,0,.12);
  cursor: pointer;

  opacity: 0;
  pointer-events: none;
  transition: opacity .2s ease, transform .2s ease;
}

/* Cuando el sidebar está oculto (#app tiene la clase),
   se habilita el botón "◂ Mostrar" */
.sb-collapsed .edge-toggle{
  opacity: 1;
  pointer-events: auto;
}

/* (Opcional) un poco de feedback al aparecer */
.sb-collapsed .edge-toggle:active{ transform: scale(.98); }

