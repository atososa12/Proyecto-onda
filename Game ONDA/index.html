<!DOCTYPE html>
<html lang="es">
<head>
  <meta charset="UTF-8" />
  <meta name="viewport" content="width=device-width, initial-scale=1, viewport-fit=cover" />
  <title>Bus Game</title>
  <link rel="preconnect" href="https://fonts.googleapis.com" />
  <link rel="preconnect" href="https://fonts.gstatic.com" crossorigin />
  <link href="https://fonts.googleapis.com/css2?family=Poppins:wght@400;600;800&display=swap" rel="stylesheet" />
  <style>
    :root{
      --bg1:#0f2027; --bg2:#203a43; --bg3:#2c5364;
      --panel:#0e141b; --panel-ghost:#111822;
      --accent:#4dd0e1; --accent-2:#ffd166;
      --text:#e6f0f3; --muted:#9fb3bd;
      --danger:#ff6b6b; --success:#7bd88f;
    }
    *{ box-sizing:border-box; }
    html,body{ height:100%; }
    body{
      margin:0; background:linear-gradient(135deg, var(--bg1), var(--bg2), var(--bg3));
      font-family:"Poppins", system-ui, -apple-system, Segoe UI, Roboto, Arial, sans-serif;
      color:var(--text); overflow:hidden;
    }
    header{
      position:fixed; inset:0 0 auto 0; height:64px; display:flex; align-items:center; justify-content:center;
      background:linear-gradient(180deg, rgba(0,0,0,.35), rgba(0,0,0,0));
      z-index:10; pointer-events:none;
    }
    header h1{ margin:0; font-size:20px; letter-spacing:.5px; font-weight:800; text-transform:uppercase; text-shadow:0 2px 8px rgba(0,0,0,.4); }
    #gameWrap{
      position:fixed; inset:0; display:flex; align-items:center; justify-content:center;
    }
    canvas{
      display:block; width:100vw; height:100vh; background:#1e272e;
      box-shadow:0 30px 80px rgba(0,0,0,.35) inset;
    }
    /* HUD */
    #hud{
      position:fixed; top:12px; left:12px; right:12px; display:flex; align-items:center; justify-content:space-between;
      gap:12px; z-index:20; pointer-events:none;
    }
    .pill{
      pointer-events:auto;
      background:rgba(0,0,0,.35);
      border:1px solid rgba(255,255,255,.08);
      border-radius:12px; padding:8px 12px; display:flex; gap:10px; align-items:center;
      backdrop-filter:blur(6px);
      box-shadow:0 8px 24px rgba(0,0,0,.25);
    }
    #stats{ font-weight:600; gap:16px; }
    #stats span{ color:var(--muted); margin-right:6px; font-weight:600; }
    #stats b{ color:var(--text); }
    #controls{ gap:8px; }
    button{
      pointer-events:auto; border:none; border-radius:10px; padding:8px 12px; font-weight:700; color:#061017;
      background:var(--accent); cursor:pointer; transition:transform .06s ease, filter .15s ease, background .2s ease;
      box-shadow:0 6px 18px rgba(0,0,0,.25);
    }
    button:active{ transform:translateY(1px) scale(.99); }
    .ghost{ background:var(--panel-ghost); color:var(--text); border:1px solid rgba(255,255,255,.08); }
    .danger{ background:var(--danger); color:white; }
    .success{ background:var(--success); color:#0b2813; }
    .accent2{ background:var(--accent-2); color:#3b2a00; }
    /* Panel men√∫ */
    #menu{
      position:fixed; inset:0; display:flex; align-items:center; justify-content:center; z-index:30;
      background:radial-gradient(1200px 800px at 50% 30%, rgba(0,0,0,.55), rgba(0,0,0,.75));
    }
    #menu .panel{
      width:min(520px, 92vw);
      background:linear-gradient(180deg, rgba(255,255,255,.04), rgba(255,255,255,.02));
      border:1px solid rgba(255,255,255,.08); border-radius:16px; padding:22px;
      box-shadow:0 30px 120px rgba(0,0,0,.6), inset 0 1px 0 rgba(255,255,255,.06);
      text-align:center;
    }
    #menu h2{ margin:0 0 8px; font-size:28px; letter-spacing:.4px; }
    #menu p{ margin:0 0 14px; color:var(--muted); }
    #menu .row{ display:flex; gap:10px; justify-content:center; flex-wrap:wrap; margin-top:14px; }
    /* Controles m√≥viles */
    #mobilePad{
      position:fixed; bottom:18px; left:50%; transform:translateX(-50%);
      display:flex; align-items:center; gap:12px; z-index:25;
    }
    .pad-btn{
      width:64px; height:64px; border-radius:50%; background:rgba(0,0,0,.35);
      border:1px solid rgba(255,255,255,.08); color:var(--text); font-size:22px; font-weight:800;
      display:flex; align-items:center; justify-content:center; user-select:none;
      box-shadow:0 12px 24px rgba(0,0,0,.35); touch-action:none;
    }
    .pad-btn:active{ transform:scale(.96); }
    @media (min-width:900px){
      #mobilePad{ display:none; }
    }
    /* Mensajes flotantes */
    #toast{
      position:fixed; bottom:18px; right:18px; z-index:40; color:var(--text);
      background:rgba(0,0,0,.5); padding:10px 12px; border-radius:10px; border:1px solid rgba(255,255,255,.08);
      opacity:0; transform:translateY(8px); transition:all .25s ease;
      pointer-events:none; font-weight:600;
    }
    #toast.show{ opacity:1; transform:translateY(0); }
    /* Footer */
    footer{
      position:fixed; bottom:6px; left:0; right:0; text-align:center; font-size:12px; color:var(--muted);
      text-shadow:0 1px 4px rgba(0,0,0,.4); pointer-events:none;
    }
  </style>
</head>
<body>
  <header aria-hidden="true">
    <h1>Bus Game</h1>
  </header>

  <div id="hud" aria-hidden="false" role="group" aria-label="Panel de juego">
    <div id="stats" class="pill" role="status" aria-live="polite">
      <span>Puntos:</span> <b id="scoreText">0</b>
      <span>Tiempo:</span> <b id="timeText">1:30</b>
    </div>
    <div id="controls" class="pill">
      <button id="startBtn" class="success" title="Iniciar juego">Iniciar</button>
      <button id="pauseBtn" class="ghost" title="Pausar o reanudar">Pausa</button>
      <button id="restartBtn" class="accent2" title="Reiniciar">Reiniciar</button>
      <button id="muteBtn" class="ghost" aria-pressed="false" title="Silenciar sonido">üîä</button>
    </div>
  </div>

  <div id="menu" role="dialog" aria-modal="true" aria-labelledby="menuTitle">
    <div class="panel">
      <h2 id="menuTitle">üöç Bus Game</h2>
      <p>Evita los autos y sobrevive 1:30. Usa flechas o los controles t√°ctiles.</p>
      <div class="row">
        <button id="menuStart" class="success">Jugar</button>
        <button id="menuHow" class="ghost">C√≥mo jugar</button>
        <button id="menuCredits" class="ghost">Cr√©ditos</button>
      </div>
      <div id="menuInfo" style="margin-top:12px; color:var(--muted); font-size:14px;">
        Presiona Enter para comenzar. Click o Enter para reiniciar al finalizar.
      </div>
    </div>
  </div>

  <div id="mobilePad" aria-label="Controles t√°ctiles" role="group">
    <div class="pad-btn" id="leftBtn" aria-label="Izquierda">‚óÄ</div>
    <div class="pad-btn" id="upBtn" aria-label="Arriba">‚ñ≤</div>
    <div class="pad-btn" id="downBtn" aria-label="Abajo">‚ñº</div>
    <div class="pad-btn" id="rightBtn" aria-label="Derecha">‚ñ∂</div>
  </div>

  <div id="toast" role="status" aria-live="polite"></div>

  <div id="gameWrap">
    <canvas id="gameCanvas" aria-label="Juego de evitar obst√°culos con un bus" role="img"></canvas>
  </div>

  <footer>¬© 2025 ‚Äî Homenaje a los choferes de ONDA</footer>

  <script src="game.js"></script>
</body>
</html>
